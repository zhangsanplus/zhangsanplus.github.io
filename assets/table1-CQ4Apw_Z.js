import{_ as Y}from"./index.vue_vue_type_style_index_0_lang-BwiYcMwn.js";import{_ as Z}from"./index-CG7i062c.js";import{_ as ee,a as te}from"./plus-DY1k0ENH.js";import{aj as oe,x as k,y as C,B as x,v as $,ar as z,ap as ne,r as h,e as F,F as M,G as t,M as L,ah as le,u as c,R as ae,L as o,$ as i,O as se,j as re,k as T,a4 as pe}from"./vue-Bp-VKo72.js";import{_ as ie,E as ue,a as de,b as ce}from"./index-CWNvzK1C.js";import{E as I,_ as X,q as me,f as fe,r as _e,b as U,s as ge}from"./index-BEcxWQo9.js";import{E as be}from"./index-DXyvSvzW.js";import{E as O}from"./index-C5DVn9In.js";import{E as ye}from"./index-KHvekKY5.js";import{c as ve}from"./cloneDeep-DIpDKJA_.js";import"./isEqual-DDMOfOHw.js";import"./raf-CoFzbMNT.js";import"./index-jgl_rwKe.js";import"./index-CePrSitK.js";import"./index-CwX5VMi2.js";import"./dayjs.min-Cjuo-oDZ.js";import"./index-DQNWtGWz.js";import"./index-B1yYrzCp.js";const Ce={style:{"vertical-align":"-0.15em",fill:"currentcolor"},viewBox:"0 0 1024 1024",width:"1em",height:"1em"};function he(m,a){return C(),k("svg",Ce,a[0]||(a[0]=[x("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.99 12.99 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296c-44.096 0-108.992 44.736-148.48 101.504c0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04c67.84 0 107.904-43.648 147.456-100.416z"},null,-1)]))}const Ee=oe({name:"ep-info-filled",render:he}),xe={class:"custom-columns"},we=$({__name:"dialog-columns",props:z({columns:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:z(["change"],["update:visible"]),setup(m,{emit:a}){const s=m,u=a,r=ne(m,"visible"),n=h([]);F(()=>{n.value=s.columns.map(g=>({...g,show:!g.hidden}))});function V(){const g=n.value.map(p=>{const{show:y,...E}=p;return{...E,hidden:!y}});u("change",g),r.value=!1}function b(){r.value=!1}return(g,p)=>{const y=I,E=O,S=be,B=ye;return C(),M(B,{modelValue:r.value,"onUpdate:modelValue":p[0]||(p[0]=d=>r.value=d),width:600,title:"自定义列"},{footer:t(()=>[o(E,{type:"flex",justify:"center"},{default:t(()=>[o(y,{onClick:b},{default:t(()=>p[1]||(p[1]=[i(" 取消 ")])),_:1}),o(y,{type:"primary",onClick:V},{default:t(()=>p[2]||(p[2]=[i(" 确定 ")])),_:1})]),_:1})]),default:t(()=>[x("div",xe,[(C(!0),k(L,null,le(c(n),d=>(C(),k(L,{key:d.prop||d.type},[d.type?ae("",!0):(C(),M(S,{key:0,modelValue:d.show,"onUpdate:modelValue":N=>d.show=N,label:d.label,size:"large"},null,8,["modelValue","onUpdate:modelValue","label"]))],64))),128))])]),_:1},8,["modelValue"])}}}),ke=X(we,[["__scopeId","data-v-1d521ed4"]]);function Ve(m,a){return a.map(s=>{const u=m.find(r=>s.prop?r.prop===s.prop:s.type?r.type===s.type:!1);if(u){const{hidden:r,width:n}=u;return{...s,hidden:r,width:n}}return{...s}})}function Se(m,a){const s=me("x-cols-".concat(m),[]),u=h(Ve(s.value,a)),r=()=>{u.value=ve(a)};return F(()=>{s.value=u.value.map(n=>({type:n.type,prop:n.prop,width:n.width,hidden:n.hidden}))}),{columns:u,reset:r}}const Be={class:"container"},Ne=$({__name:"table1",setup(m){const a=h(!1),s=h(),u=h(0),r=h([]),n=se({name:"",phone:"",address:"",date:"",pageSize:10,pageNum:1}),V=[{label:"姓名",prop:"name",type:"input"},{label:"手机号",prop:"phone",type:"input"},{label:"地址",prop:"address",type:"select",props:{options:[{label:"上海市普陀区 120 弄",value:"1"},{label:"上海市嘉定区 340 弄",value:"2"},{label:"上海市宝山区 560 弄",value:"3"}]}},{label:"出生日期",prop:"date",type:"date-picker"}],{columns:b,reset:g}=Se("table1",[{type:"selection",width:40},{type:"index",label:"序号",align:"center",width:60},{label:"姓名",prop:"name",formatter(l){return pe("span",{style:"color: coral"},l.name)}},{label:"地址",prop:"address",hidden:!0,children:[{label:"区域",prop:"area"},{label:"城市",prop:"city",sortable:!0}]},{label:"年龄",prop:"age",sortable:!0,align:"center",width:160},{label:"性别",prop:"sex"},{label:"状态",prop:"status",sortable:"custom",align:"center"},{label:"操作",prop:"action",align:"center",fixed:"right",width:190}]);function p(){U.info("开发中！")}function y(){a.value=!0}function E(l){b.value=l}function S(l,e,f){b.value.forEach(_=>{_.prop&&_.prop===f.property&&(_.width=l),_.type&&_.type===f.type&&(_.width=l)})}function B(){s.value.$refs.elTableRef.clearSelection()}function d(l){JSON.parse(JSON.stringify(l))}function N(l){const{pageSize:e,pageNum:f}=l;n.pageNum=f,n.pageSize=e,U.success("".concat(l.type," change ✨"))}async function j(){const{data:l}=await ge(n);l.list.sort((e,f)=>e.age-f.age),r.value=l.list,u.value=l.count}return re(()=>{j()}),(l,e)=>{const f=ie,_=ue,q=ee,w=I,R=de,H=O,J=ce,A=Ee,G=_e,D=fe,P=te,K=Z,Q=Y;return C(),k(L,null,[o(Q,{full:"",title:"X-Table 示例"},{default:t(()=>[x("div",Be,[o(f,{modelValue:c(n),"onUpdate:modelValue":e[0]||(e[0]=v=>T(n)?n.value=v:null),columns:V,searchable:"","default-collapsed":""},null,8,["modelValue"]),o(_,{style:{margin:"0 0 18px"}}),o(H,{style:{"margin-bottom":"18px"}},{default:t(()=>[o(R,{span:16,xs:24},{default:t(()=>[o(w,{type:"primary"},{icon:t(()=>[o(q)]),default:t(()=>[e[2]||(e[2]=i(" 新增 "))]),_:1}),o(w,{type:"info",onClick:B},{default:t(()=>e[3]||(e[3]=[i(" 清除选择 ")])),_:1}),o(w,{type:"info",onClick:c(g)},{default:t(()=>e[4]||(e[4]=[i(" 重置表头 ")])),_:1},8,["onClick"])]),_:1}),o(R,{span:8,xs:24,style:{"text-align":"right"}},{default:t(()=>[o(w,{type:"info",onClick:y},{default:t(()=>e[5]||(e[5]=[i(" 自定义列 ")])),_:1})]),_:1})]),_:1}),o(K,{ref_key:"tableRef",ref:s,border:"",class:"flex-1",columns:c(b),"data-source":c(r),"default-sort":{prop:"status",order:"ascending"},total:c(u),"page-size":c(n).pageSize,"page-num":c(n).pageNum,onChange:N,onSelectionChange:d,onHeaderDragend:S},{status:t(({row:v})=>[o(J,{modelValue:v.status,"onUpdate:modelValue":W=>v.status=W,"active-value":1,"inactive-value":0},null,8,["modelValue","onUpdate:modelValue"])]),"sex-header":t(()=>[e[7]||(e[7]=i(" 性别 ")),o(G,{placement:"top"},{content:t(()=>e[6]||(e[6]=[i(" 调整表头列宽度后会自动保存到本地"),x("br",null,null,-1),i("当下次访问时会自动恢复 ")])),default:t(()=>[o(A)]),_:1})]),action:t(()=>[o(P,null,{default:t(()=>[o(D,{underline:!1,type:"primary",onClick:p},{default:t(()=>e[8]||(e[8]=[i(" 新增 ")])),_:1}),o(D,{underline:!1,type:"primary",onClick:p},{default:t(()=>e[9]||(e[9]=[i(" 修改 ")])),_:1}),o(D,{underline:!1,type:"primary",onClick:p},{default:t(()=>e[10]||(e[10]=[i(" 删除 ")])),_:1})]),_:1})]),append:t(()=>e[11]||(e[11]=[x("div",{style:{padding:"12px","text-align":"center"}}," 好好学习，天天向上 ",-1)])),_:1},8,["columns","data-source","total","page-size","page-num"])])]),_:1}),o(ke,{visible:c(a),"onUpdate:visible":e[1]||(e[1]=v=>T(a)?a.value=v:null),columns:c(b),onChange:E},null,8,["visible","columns"])],64)}}}),Pe=X(Ne,[["__scopeId","data-v-c3dcf769"]]);export{Pe as default};
