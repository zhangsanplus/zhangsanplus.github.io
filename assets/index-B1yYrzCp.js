import{o as E}from"./index-BEcxWQo9.js";import{j as B,e as U,E as $}from"./vue-Bp-VKo72.js";const P=(e,t,L,u)=>{let c={offsetX:0,offsetY:0};const a=v=>{const X=v.clientX,Y=v.clientY,{offsetX:i,offsetY:m}=c,o=e.value.getBoundingClientRect(),f=o.left,d=o.top,w=o.width,x=o.height,b=document.documentElement.clientWidth,D=document.documentElement.clientHeight,H=-f+i,T=-d+m,W=b-f-w+i,y=D-d-x+m,r=p=>{let n=i+p.clientX-X,s=m+p.clientY-Y;u!=null&&u.value||(n=Math.min(Math.max(n,H),W),s=Math.min(Math.max(s,T),y)),c={offsetX:n,offsetY:s},e.value&&(e.value.style.transform="translate(".concat(E(n),", ").concat(E(s),")"))},h=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",h)},g=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",a)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",a)},M=()=>{c={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return B(()=>{U(()=>{L.value?g():l()})}),$(()=>{l()}),{resetPosition:M}};export{P as u};
